(this.webpackJsonpeccomerce=this.webpackJsonpeccomerce||[]).push([[0],{103:function(e,t,a){e.exports=a(144)},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=a(29),s=a(6),l=a.n(s),m=a(10),u=a(8),p=a(200),d=a(20),f=a(14),b=a(90),h=a(180),g=a(181),y=a(182),w=a(184),v=a(185),k=a(65),E=a(183),_=a(84),x=a.n(_),j=a(13),O=a(175),C=a(17),S=Object(O.a)((function(e){return{appBar:Object(j.a)({boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{marginRight:"10px"},menuButton:Object(j.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(C.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(C.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(j.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),N=function(e){var t=e.totalItems,a=Object(n.useState)(null),i=Object(u.a)(a,2),o=i[0],c=i[1],s=S(),l=Object(f.g)(),m=Boolean(o),p=r.a.createElement(b.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:function(){return c(null)}},r.a.createElement(h.a,null,r.a.createElement(g.a,{component:d.b,to:"/cart","aria-label":"Show cart items",color:"inherit"},r.a.createElement(y.a,{badgeContent:t,color:"secondary"},r.a.createElement(E.a,null))),r.a.createElement("p",null,"Cart")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{position:"fixed",className:s.appBar,color:"inherit"},r.a.createElement(v.a,null,r.a.createElement(k.a,{component:d.b,to:"/",variant:"h6",className:s.title,color:"inherit"},r.a.createElement("img",{src:x.a,alt:"Honest Bakery!",height:"40px",className:s.image})," ",r.a.createElement("span",{style:{fontSize:"30px"}},"Chocs n Cakes")),r.a.createElement("div",{className:s.grow}),"/"===l.pathname&&r.a.createElement("div",{className:s.button},r.a.createElement(g.a,{component:d.b,to:"/cart","aria-label":"Show cart items",color:"inherit"},r.a.createElement(y.a,{badgeContent:t,color:"secondary"},r.a.createElement(E.a,null)))))),p)},q=a(191),B=a(186),D=a(187),R=a(188),z=a(189),T=a(190),U=Object(O.a)((function(){return{root:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},cardActions:{display:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"}}})),A=function(e){var t=e.product,a=e.onAddToCart,n=U();return r.a.createElement(B.a,{className:n.root},r.a.createElement(D.a,{className:n.media,image:t.media.source,title:t.name}),r.a.createElement(R.a,null,r.a.createElement("div",{className:n.cardContent},r.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},"$",t.price.formatted)),r.a.createElement(k.a,{dangerouslySetInnerHTML:{__html:t.description},variant:"body2",color:"textSecondary",component:"p"})),r.a.createElement(z.a,{disableSpacing:!0,className:n.cardActions},r.a.createElement(g.a,{"aria-label":"Add to Cart",onClick:function(){return a(t.id,1)}},r.a.createElement(T.a,null))))},I=Object(O.a)((function(e){return{toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},root:{flexGrow:1}}})),F=function(e){var t=e.products,a=e.onAddToCart,n=I();return t.length?r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(q.a,{container:!0,justify:"center",spacing:4},t.map((function(e){return r.a.createElement(q.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(A,{product:e,onAddToCart:a}))})))):r.a.createElement("p",null,"Loading...")},L=a(192),$=a(193),G=Object(O.a)((function(){return{media:{height:260},cardContent:{display:"flex",justifyContent:"space-between"},cartActions:{justifyContent:"space-between"},buttons:{display:"flex",alignItems:"center"}}})),M=function(e){var t=e.item,a=e.onUpdateCartQty,n=e.onRemoveFromCart,i=G(),o=function(e,t){return a(e,t)};return r.a.createElement(B.a,{className:"cart-item"},r.a.createElement(D.a,{image:t.media.source,alt:t.name,className:i.media}),r.a.createElement(R.a,{className:i.cardContent},r.a.createElement(k.a,{variant:"h4"},t.name),r.a.createElement(k.a,{variant:"h5"},t.line_total.formatted_with_symbol)),r.a.createElement(z.a,{className:i.cardActions},r.a.createElement("div",{className:i.buttons},r.a.createElement(L.a,{type:"button",size:"small",onClick:function(){return o(t.id,t.quantity-1)}},"-"),r.a.createElement(k.a,null,"\xa0",t.quantity,"\xa0"),r.a.createElement(L.a,{type:"button",size:"small",onClick:function(){return o(t.id,t.quantity+1)}},"+")),r.a.createElement(L.a,{variant:"contained",type:"button",color:"secondary",onClick:function(){return e=t.id,n(e);var e}},"Remove")))},J=Object(O.a)((function(e){var t;return{toolbar:e.mixins.toolbar,title:{marginTop:"5%"},emptyButton:(t={minWidth:"150px"},Object(j.a)(t,e.breakpoints.down("xs"),{marginBottom:"5px"}),Object(j.a)(t,e.breakpoints.up("xs"),{marginRight:"20px"}),t),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"}}})),W=function(e){var t=e.cart,a=e.onUpdateCartQty,n=e.onRemoveFromCart,i=e.onEmptyCart,o=J(),c=function(){return i()};if(!t.line_items)return"Loading";return r.a.createElement($.a,null,r.a.createElement("div",{className:o.toolbar}),r.a.createElement(k.a,{className:o.title,variant:"h3",gutterBottom:!0},"Your Shopping Cart"),t.line_items.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{container:!0,spacing:3},t.line_items.map((function(e){return r.a.createElement(q.a,{item:!0,xs:12,sm:4,key:e.id},r.a.createElement(M,{item:e,onUpdateCartQty:a,onRemoveFromCart:n}))}))),r.a.createElement("div",{className:o.cardDetails},r.a.createElement(k.a,{variant:"h4"},"Subtotal: ",t.subtotal.formatted_with_symbol),r.a.createElement("div",null,r.a.createElement(L.a,{className:o.emptyButton,size:"large",type:"button",variant:"contained",color:"secondary",onClick:c},"Empty cart"),r.a.createElement(L.a,{className:o.checkoutButton,component:d.b,to:"/checkout",size:"large",type:"button",variant:"contained",color:"primary"},"Checkout")))):r.a.createElement(k.a,{variant:"subtitle1"},"You have no items in your shopping cart,",r.a.createElement(d.b,{className:o.link,to:"/"},"start adding some"),"!"))},Y=(a(197),a(198),a(88));new(a.n(Y).a)("pk_test_19661763baf3194382812193e2e539617b1870f41d8b9",!0),a(205),a(202),a(48),a(203);a(57);var H=a(89),Q=(a(179),a(145),a(196),Object(H.a)("pk_test_51Hqmw9EnylLNWUqjZhGaG1ipWYADqMvDACswXeMX1ZYEe5PwGEh1xmtmJgYZkZMigJaROV3k5ZYPl22gBaWgJReS00xo3zab3y"),Object(O.a)((function(e){var t;return{appBar:{position:"relative"},toolbar:e.mixins.toolbar,layout:Object(j.a)({marginTop:"5%",width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(t={marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(j.a)(t,e.breakpoints.down("xs"),{width:"100%",marginTop:60}),Object(j.a)(t,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),t),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},divider:{margin:"20px 0"},spinner:{display:"flex",justifyContent:"center",alignItems:"center"}}}))),Z=a(201),K=window.location.hostname.includes("takeithome")?"https://takeithome.azurewebsites.net":"",P=function(){var e="".concat(K,"/market/getitemdetails/1");return Object(Z.a)(fetch(e,{}).then((function(e){if(e.ok)return e.json().then((function(t){return{ok:e.ok,status:e.status,json:t}}),(function(e){return"Hello"}));throw new Error("Application Crashed")})))},X=["Shipping address","Payment details"],V=function(e){var t=e.cart,a=(e.onCaptureCheckout,e.order,e.error),i=Object(n.useState)(null),o=Object(u.a)(i,2),c=(o[0],o[1]),s=Object(n.useState)(!1),p=Object(u.a)(s,2),d=p[0],b=p[1],h=Object(n.useState)(!1),g=Object(u.a)(h,2),y=g[0],w=g[1],v=Object(n.useState)(!1),k=Object(u.a)(v,2),E=k[0],_=k[1],x=Object(n.useState)(0),j=Object(u.a)(x,2),O=j[0],C=(j[1],Object(n.useState)({})),S=Object(u.a)(C,2),N=(S[0],S[1],Q(),Object(f.f)());Object(n.useEffect)((function(){t.id&&function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=null,e.next=8;break;case 5:t=e.sent,e.next=12;break;case 8:b(!0),_(!1),w(!1),setTimeout((function(){P().subscribe((function(e){b(!1),w(!0),alert("Order placed!"),N.push("/")}),(function(e){b(!1),_(!0)}))}),3e3);case 12:c(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),O!==X.length&&N.push("/");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()()}),[t]);return r.a.createElement(r.a.Fragment,null,d?r.a.createElement("div",{style:{fontSize:"26px",backgroundColor:"grey",opacity:.3,margin:"auto",width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"}},r.a.createElement("img",{src:"/LoaderIcon.svg",style:{width:"100%",margin:"auto",height:"100%"}})):r.a.createElement(r.a.Fragment,null,y?r.a.createElement("div",{style:{color:"green",fontSize:"26px",margin:"75px auto auto auto",width:"50%"}},"Order placed successfully!"):"",E?r.a.createElement("div",{style:{color:"#e80505",fontSize:"26px",margin:"75px auto auto auto",width:"50%"}},"Failed to place order!"):""))},ee=a(199),te={id:"cart101",total_items:0,line_items:[],subtotal:{raw:0,formatted:"0.00",formatted_with_symbol:"$0.00",formatted_with_code:"0.00 USD"}},ae=[{id:"itemid1",name:"Chocolates",description:"Cadbury Dairy Milk",media:{source:"https://www.oneagrix.com/pub/media/catalog/product/cache/425d33ca3164e147af7aa03d8f0c0689/c/a/cadbury_dairy_milk_chocolate.jpg",type:"image"},price:{raw:3.99,formatted:"3.99",formatted_with_symbol:"$3.99",formatted_with_code:"3.99 USD"},quantity:0},{id:"itemid2",name:"Chocolates",description:"Cadbury Dairy Milk Crackle",media:{source:"https://www.bigbasket.com/media/uploads/p/l/267463_17-cadbury-dairy-milk-crackle-chocolate-bar.jpg",type:"image"},price:{raw:3.99,formatted:"3.99",formatted_with_symbol:"$3.99",formatted_with_code:"3.99 USD"},quantity:0},{id:"itemid3",name:"Chocolates",description:"Hershey's Chocolate bar",media:{source:"https://static01.nyt.com/images/2013/01/13/magazine/13wmt/13wmt-superJumbo-v3.jpg",type:"image"},price:{raw:3.99,formatted:"3.99",formatted_with_symbol:"$3.99",formatted_with_code:"3.99 USD"},quantity:0},{id:"itemid4",name:"Chocolates",description:"Nestle Kitkat",media:{source:"https://article.innovamarketinsights360.com/articleimgs/article_images/637545935061727843KitKat%20square.png",type:"image"},price:{raw:2.99,formatted:"2.99",formatted_with_symbol:"$2.99",formatted_with_code:"2.99 USD"},quantity:0},{id:"itemid5",name:"Cakes",description:"Raspberry Almond Ice cream cake",media:{source:"https://www.homecookingadventure.com/wp-content/uploads/2022/01/raspberry_alomnd_ice_cream_cake_main.jpg",type:"image"},price:{raw:13.99,formatted:"13.99",formatted_with_symbol:"$13.99",formatted_with_code:"13.99 USD"},quantity:0},{id:"itemid6",name:"Cakes",description:"Neapolitan Cake",media:{source:"https://iambaker.net/wp-content/uploads/2012_05_08_999_95.neopolitan-cake-1.jpg",type:"image"},price:{raw:22.99,formatted:"22.99",formatted_with_symbol:"$22.99",formatted_with_code:"22.99 USD"},quantity:0},{id:"itemid7",name:"Cakes",description:"Swiss Chocolate cake",media:{source:"/swisschocolate.png",type:"image"},price:{raw:23.99,formatted:"23.99",formatted_with_symbol:"$23.99",formatted_with_code:"23.99 USD"},quantity:0},{id:"itemid8",name:"Cakes",description:"Napoleon cake",media:{source:"/napoleon.png",type:"image"},price:{raw:25.99,formatted:"25.99",formatted_with_symbol:"$25.99",formatted_with_code:"25.99 USD"},quantity:0}],ne=function(){return Object(Z.a)(fetch("https://takeithome-ordermanagement.azurewebsites.net/api/GetAvailableItems").then((function(e){if(e.ok||200==e.status)return{hello:"sir"};throw new Error("Failed to fetch available items")}))).pipe(Object(ee.a)((function(e){return{data:ae}})))},re=function(){for(var e=0,t=0;t<te.line_items.length;t++)e+=te.line_items[t].line_total;te.subtotal={raw:e,formatted:"".concat(e.toFixed(2)),formatted_with_symbol:"$".concat(e.toFixed(2)),formatted_with_code:"".concat(e.toFixed(2)," USD")}},ie=function(e,t){var a=te.line_items.find((function(t){return t.id==e}));if(a)a.quantity=a.quantity+t,te.total_items=te.total_items+t;else{var n=ae.find((function(t){return t.id==e}));if(n){var r={id:n.id,media:n.media,name:n.name,price:n.price.raw,line_total:t*n.price.raw,quantity:t};te.line_items.push(r),te.total_items=te.total_items+t}}return re(),{cart:te}},oe=function(e,t){if(0==t)return ce(e);var a=te.line_items.find((function(t){return t.id==e}));if(a){var n=t-a.quantity;a.quantity=t,a.line_total=a.quantity*a.price,te.total_items=te.total_items+n}return re(),{cart:te}},ce=function(e){var t=te.line_items.findIndex((function(t){return t.id==e}));if(t>=0){var a=te.line_items[t];te.total_items=te.total_items-a.quantity,te.line_items.splice(t,1)}return re(),{cart:te}},se=function(){var e=r.a.useState(!1),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),b=s[0],h=s[1],g=Object(n.useState)({}),y=Object(u.a)(g,2),w=y[0],v=y[1],k=Object(n.useState)(!1),E=Object(u.a)(k,2),_=E[0],x=E[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),C=O[0],S=O[1],q=Object(n.useState)({}),B=Object(u.a)(q,2),D=B[0],R=(B[1],Object(n.useState)("")),z=Object(u.a)(R,2),T=z[0],U=z[1],A=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,e.next=9;break;case 4:a=e.sent,t=a.data,h(t),e.next=11;break;case 9:S(!0),setTimeout((function(){ne().subscribe((function(e){S(!1),t=e.data,h(t)}),(function(e){S(!1),x(!0)}))}),2e3);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,e.next=7;break;case 4:t=e.sent,e.next=8;break;case 7:t=te;case 8:a=Object(c.a)({},t),v(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,e.next=7;break;case 4:n=e.sent,e.next=8;break;case 7:n=ie(t,a);case 8:r=Object(c.a)({},n.cart),v(r);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,e.next=7;break;case 4:n=e.sent,e.next=8;break;case 7:n=oe(t,a);case 8:r=Object(c.a)({},n.cart),v(r);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null,e.next=7;break;case 4:a=e.sent,e.next=8;break;case 7:a=ce(t);case 8:n=Object(c.a)({},a.cart),v(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,e.next=7;break;case 4:t=e.sent,e.next=8;break;case 7:te={id:"cart101",total_items:0,line_items:[],subtotal:0},re(),t={cart:te};case 8:a=Object(c.a)({},t.cart),v(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,e.next=7;break;case 4:t=e.sent,e.next=8;break;case 7:t=te;case 8:a=Object(c.a)({},t),v(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{alert("Order placed!"),J()}catch(t){U(t.data.error.message)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){A(),I()}),[]);return r.a.createElement(d.a,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(p.a,null),r.a.createElement(N,{totalItems:w.total_items,handleDrawerToggle:function(){return i(!a)}}),_?"":r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/"},r.a.createElement(F,{products:b,onAddToCart:L,handleUpdateCartQty:!0})),r.a.createElement(f.a,{exact:!0,path:"/cart"},r.a.createElement(W,{cart:w,onUpdateCartQty:$,onRemoveFromCart:G,onEmptyCart:M})),r.a.createElement(f.a,{path:"/checkout",exact:!0},r.a.createElement(V,{cart:w,order:D,onCaptureCheckout:Y,error:T})))),_?r.a.createElement("div",{style:{color:"#e80505",fontSize:"26px",margin:"75px auto auto auto",width:"50%"}},"An error occurred while loading the available products."):"",C?r.a.createElement("div",{style:{fontSize:"26px",backgroundColor:"grey",opacity:.3,margin:"auto",width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"}},r.a.createElement("img",{src:"/LoaderIcon.svg",style:{width:"100%",margin:"auto",height:"100%"}})):"")};o.a.render(r.a.createElement(se,null),document.getElementById("root"))},84:function(e,t,a){e.exports=a.p+"static/media/bakerylogo.023f4c9a.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.c12837fa.chunk.js.map